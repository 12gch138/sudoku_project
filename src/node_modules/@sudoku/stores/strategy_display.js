import { writable } from 'svelte/store';
import {manager} from "@sudoku/strategy/strategy_manager"

function createStrategyDisplay() {
    const strategy_display = writable({});

    return {
        subscribe: strategy_display.subscribe,


        update(board) {
            strategy_display.clear;
            strategy_display.update($strategy_display => {
                $strategy_display.clear;
                let dict = manager.getDictFromMatrix(board);
                for (const key in dict) {
                    $strategy_display[key] = dict[key][0];
                }

                return $strategy_display;
            });
        },

        clear() {
            strategy_display.clear;
        }
    }
}

export const strategy_display = createStrategyDisplay();