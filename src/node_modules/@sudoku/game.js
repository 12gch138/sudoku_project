import { cursor } from '@sudoku/stores/cursor';
import { difficulty } from '@sudoku/stores/difficulty';
import { gamePaused } from '@sudoku/stores/game';
import { grid } from '@sudoku/stores/grid';
import { timer } from '@sudoku/stores/timer';

export function startNew(_difficulty) {
	difficulty.set(_difficulty);
	grid.generate(_difficulty);
	cursor.reset();
	timer.reset();
}

export function startCustom(sencode) {
	difficulty.setCustom();
	grid.decodeSencode(sencode);
	cursor.reset();
	timer.reset();
}

export function pauseGame() {
	timer.stop();
	gamePaused.set(true);
}

export function resumeGame() {
	timer.start();
	gamePaused.set(false);
}

export default {
	startNew,
	startCustom,
	pause: pauseGame,
	resume: resumeGame
};